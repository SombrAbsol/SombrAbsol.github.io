<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "/include/xhtml.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<title>Pokemon Mystery Dungeon - Mail Converter</title>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
<link rel="stylesheet" type="text/css" media="print" href="/web/20080913124421cs_/http://www.upokecenter.com/include/commonPrint.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="/web/20080913124421cs_/http://www.upokecenter.com/include/defcss.css" title="graycss"/>
<link rel="alternate stylesheet" type="text/css" media="screen" href="/web/20080913124421cs_/http://www.upokecenter.com/include/redskin.css" title="redcss"/>
<link rel="alternate stylesheet" type="text/css" media="screen" href="/web/20080913124421cs_/http://www.upokecenter.com/include/blueskin.css" title="bluecss"/>
<link rel="alternate stylesheet" type="text/css" media="screen" href="/web/20080913124421cs_/http://www.upokecenter.com/include/largecss.css" title="largecss"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link title="Ultimate Pokemon Center" type="application/opensearchdescription+xml" rel="search" href="/web/20080913124421/http://www.upokecenter.com/include/upcsearch.xml"/>
<!--[if lt IE 7]><script type="text/javascript" src="/include/IEFixes.js"></script>
<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
<script type="text/javascript" src="/web/20080913124421js_/http://www.upokecenter.com/include/common.js">
</script>
<script type="text/javascript" src="/web/20080913124421js_/http://www.upokecenter.com/include/ylib.js">
</script>
<script type="text/javascript" src="/web/20080913124421js_/http://www.upokecenter.com/include/bookmark.js">
</script>
<script type="text/javascript" src="/web/20080913124421js_/http://www.upokecenter.com/include/sort.js">
</script>
<script type="text/javascript" src="/web/20080913124421js_/http://www.upokecenter.com/include/styleswitcher.js">
</script>
</head>
<body class="ns-0">
<div id="globalWrapper">
<div id="column-content">
<div id="content">
<div id="menu" class="noprint"></div>
<div id="quicklinks" class="noprint">
<p>Scroll to <a href="#nav">Navigation Links</a></p>
<hr id="hr-quicklinks"/></div>
<a name="top" id="contentTop"></a>
<p class="adheader noprint">
<a href="#footer" onclick="document.getElementById(&#039;donform&#039;).submit()">
Please donate money and help me raise over $3100 for my education.
</a>
</p>
<h1 class="firstHeading">Pokemon Mystery Dungeon - Mail Converter</h1>
<div id="bodyContent">
<div id="contentSub"></div>

<!-- include virtual="/include/uainfo.htm"-->
<div id="contentarea">
<script src="items-en.js" type="text/javascript"></script>
<script src="pokemon-fr.js" type="text/javascript"></script>
<script type="text/javascript">
var PasswordTooShort="The password was invalid because it contained fewer than 54 characters. Please re-enter the password as it appears in the game and try again."
var NoPassword="No password was entered."
var InvalidPasswordLong="The password was invalid.  Please re-enter the password and try again."
var NotSOSMail="The password given was not an SOS Mail password."
var NotAOKMail="The password given was not an A-OK Mail password."
var SOSMailEnteredInAOK="The password given appears to be an SOS Mail password instead of an A-OK Mail password.  Do you want to generate an A-OK Mail from this password? If you do, select OK."
var AOKMailEnteredInSOS="The password given appears to be an A-OK Mail password instead of an SOS Mail password.  Do you want to generate a Thank-You Mail from this password? If you do, select OK."
var BasementFloor="BXXF"
var AboveGroundFloor="XXF"
var InvalidPassword="The password is invalid."
var DifficultyLine="Difficulty:"
var IDLine="ID:"
var PlaceLine="Place:"
var ClientLine="Client:"
var RescueChancesLine="Rescue chances:"
</script>
<script src="lettresos.js" type="text/javascript"></script>
<script src="diff.js" type="text/javascript"></script>
<script type="text/javascript">//<![CDATA[

var AboveGround=[
0,0,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,1,1,0,0,0,
1,0,0,0,0,0,0,1,0,1,0,1,1,1,0,1,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,1,0
]
function IsAboveGround(d){
 if(d>=AboveGround.length)return 1
 return AboveGround[d]
}
function showitems(name){
 document.write("<select name=""+name+"">");
 for(var i=0;i<items.length;i++){
  document.write("<option value="">"+items[i]+" ["+i.toString(16)+"]</option>");  
 } 
 document.write("</select>");
}

function showpokemon(name){
 document.write("<select name=""+name+"">");
 for(var i=0;i<pokemon.length;i++){
  document.write("<option value="">"+pokemon[i]+"</option>");  
 } 
 document.write("</select>");
}


var debug=0

function entrytopass(x){
 x=x.replace(/[nsr&#039;"]/g,"")
         .replace(/[u2642]/g,"#")
         .replace(/[u2640]/g,"%")
         .replace(/[{([]m([au00e2]le?)?[)]}]/gi,"#")
         .replace(/[{([]f(em(ale|elle)?)?[)]}]/gi,"%")
         .replace(/[{([]w(eib(l(ich)?)?)?[)]}]/gi,"%")
         .replace(/[{([]m(acho)?[)]}]/gi,"#")
         .replace(/[{([]h(em(bra)?)?[)]}]/gi,"%")
         .replace(/[{([]m[au00e4u00c4]nn(l(ich)?)?[)]}]/gi,"#")
         .replace(/[{([]..?.?[)]}]/g,".")
         .replace(/[{([][u2026][)]}]/g,".")
         .replace(/[u2026]/g,".")
         .toUpperCase()
 testx=x.replace(/.../g,".")
 if(testx.length==54)
  x=testx
 return x
}

function formatpass(x){
 x=entrytopass(x)
 return x.substr(0,5)+" "
       +x.substr(5,8)+" "
       +x.substr(13,5)+"rn"
       +x.substr(18,5)+" "
       +x.substr(23,8)+" "
       +x.substr(31,5)+"rn"
       +x.substr(36,5)+" "
       +x.substr(41,8)+" "
       +x.substr(49,5)+"rn"
}

var baditems="EDEEEFB1E924D8D2B0DC323334C2ECF0"

function option(x){
 return parseInt(x[x.selectedIndex].value)
}

function isbaditem(x){
 if(x>=0xF0)return 0
 for(var i=0;i<baditems.length/2;i++){
  if(x==c2c(baditems,i))
   return 1
 }
 return 0
}

function showrewards(name){
 document.write("<select name=""+name+"">");
 for(var i=0;i<items.length;i++){
  if(!isbaditem(i)){
   document.write("<option value=""+i+"">"+items[i]
//      +" ["+i.toString(16)+"]"
      +"</option>");  
  }
 } 
 document.write("</select>");
}

function decodemission(pass){
 var diffstring="EDCBAS*"
 var client=pass[12]|(pass[13]<<8)
 var clientname=""
 for(var i=0;i<10;i++){
  if(pass[20+i]==0)break
  clientname+=String.fromCharCode(pass[20+i])
 }
 var clientstr=ClientLine+" "+clientname+" ("+pokemon[client]+")"
 var placestr=PlaceLine+" "+dungeons[pass[4]]+" "
 if(IsAboveGround(pass[4]))
  placestr+=AboveGroundFloor.replace("XX",pass[5])
 else
  placestr+=BasementFloor.replace("XX",pass[5])
 var id=pass[16]|(pass[17]<<8)
 var idstr=IDLine+" "+(id%10000)+"rn"
          +RescueChancesLine+" "+pass[44]+"rn"
          +DifficultyLine+" "+diffstring.charAt(GetDifficulty(0,pass[4],pass[5]))
 return clientstr+"rn"+placestr+"rn"+idstr+"rn"
}

function genmailex(f,mail,flags,mailtype){
 var pass=[]
 var x=entrytopass(mail)
 if(x.length==0){
  alert(NoPassword)
  return 0
 } if(x.length<54){
  alert(PasswordTooShort)
  return 0
 }
 if(!convertpass(x,pass)){
  alert(InvalidPasswordLong)
  return 0
 } else if(pass[0]!=mailtype) {
  if(mailtype==1){
   if(pass[0]==4){
    if(confirm(AOKMailEnteredInSOS)){
     flags=2;
     f.aok.value=formatpass(x);
    } else {
     return 0;
    }
   } else {
    alert(NotSOSMail)
    return 0
   }
  }else if(mailtype==4){
   if(pass[0]==1){
    if(confirm(SOSMailEnteredInAOK)){
     flags=1;
     f.sos.value=formatpass(x);
    } else {
     return 0;
    }
   } else {
    alert(NotAOKMail)
    return 0
   }
  }
 }
 f.mission.value=decodemission(pass)
 if(flags&1){
  pass[0]=4//A-OK mail ID
  pass[40]=pass[36]
  pass[41]=pass[37]
  pass[42]=pass[38]
  pass[43]=pass[39]
  pass[44]=pass[44]-1//rescue chances left
  //works even if line below is commented out
  f.aok.value=formatpass(datatopass(pass))
 }
 if(flags&2){
  var itemidx=option(f.item)
  pass[0]=5//Thank-You mail ID
  if(itemidx){
   pass[33]=1
   pass[34]=itemidx&0xFF
   pass[35]=(itemidx>>8)&0xFF
  }
  f.ty.value=formatpass(datatopass(pass))
 }
 return 1
}

function genaok(f){
 if(genmailex(f,f.sos.value,1,1)){
  f.sos.value=formatpass(f.sos.value)
 }
}

function genaokty(f){
 if(genmailex(f,f.sos.value,3,1)){
  f.sos.value=formatpass(f.sos.value)
 }
}

function genty(f){
 if(genmailex(f,f.aok.value,2,4)){
  f.aok.value=formatpass(f.aok.value)
 }
}

function decsos(f){
 var x=entrytopass(f.sos.value)
 var pass=[]
 if(!convertpass(x,pass)){
  alert(InvalidPassword)
 } else {
  x=datatopass(pass)
  f.sos.value=formatpass(x)
  if(debug){
   f.data.value=tostr(pass)
  }
 }
}

function encsos(f){
 var pass=f.data.value.split(",")
 for(var i=0;i<pass.length;i++){
  pass[i]=parseInt(pass[i],16)
 }
 x=datatopass(pass)
 f.sos.value=formatpass(x)
 if(debug){
  f.data.value=tostr(pass)
 }
}
//]]>
</script>
<p class="navheader noprint">
       <a href="sosmail.php?lang=en">English</a> - 
       <a href="sosmail.php?lang=fr">Fran&#xe7;ais</a> -
       <a href="sosmail.php?lang=de">Deutsch</a> -
       <a href="sosmail.php?lang=it">Italiano</a> -
       <a href="sosmail.php?lang=es">Espa&#xf1;ol</a><br/>
       (The Mail Converter now supports multiple languages, but the interface is not yet translated.  
          To help, go to <b><a href="intl.txt">intl.txt</a></b>, translate every second line, and 
         <b><a href="/web/20080913124421/http://www.upokecenter.com/mail.php">send it to me</a></b>.  Thanks.)
</p>
<p>If none of your friends own Pokemon Mystery Dungeon, it is still possible
to rescue yourself with the help of this tool.</p>
<p>Using this tool, you can generate an A-OK and Thank-You Mail password from
an SOS Mail password, or a Thank-You Mail password from an A-OK Mail
password.  Note also the following.</p>
<ul>
<li>For the male sign (&#x2642;), use &quot;#&quot; or &quot;(m)&quot;.</li>
<li>For the female sign (&#x2640;), use &quot;%&quot; or &quot;(f)&quot;.</li>
<li>For the ellipsis (&#x2026;), use &quot;.&quot; or &quot;(...)&quot;.</li></ul>
<p>I created this tool.  Please <a href="/web/20080913124421/http://www.upokecenter.com/mail.php">contact me</a> with your comments.
  An <a href="/web/20080913124421/http://www.upokecenter.com/generators.zip">offline version of Mystery Dungeon tools</a> is available.
<a href="passwords.html">Detailed information</a> about mail passwords is available.</p>
<form name="s" action="javascript:void(null)">
SOS Mail Password:<br/>
<textarea name="sos" cols="30" rows="5"></textarea><br/>
<script type="text/javascript"><!--
if(debug){
 document.write(&#039;<input type="button" value="Decode SOS Mail" onclick="decsos(this.form)"/><br/>&#039;)
 document.write(&#039;<textarea name="data" cols="30" rows="6"></textarea><br/>&#039;)
 document.write(&#039;<input type="button" value="Encode SOS Mail" onclick="encsos(this.form)"/><br/>&#039;)
}
//--></script>
<input type="button" value="Generate A-OK Mail" onclick="genaok(this.form)"/><br/>
<input type="button" value="Generate A-OK and Thank-You Mail" onclick="genaokty(this.form)"/><br/>
A-OK Mail Password:<br/>
<textarea name="aok" cols="30" rows="5"></textarea><br/>
Item to send to Thank-You Mail (optional):<br/>
<script type="text/javascript"><!--
showrewards("item")
//--></script><br/>
<input type="button" value="Generate Thank-You Mail" onclick="genty(this.form)"/><br/>
Thank-You Mail Password:<br/>
<textarea name="ty" cols="30" rows="5"></textarea><br/>
Rescue Mission Data:<br/>
<textarea name="mission" cols="30" rows="6"></textarea>
</form></div>
<p class="adheader noprint">
<a href="#footer" onclick="document.getElementById(&#039;donform&#039;).submit()">
Please donate money and help me raise over $3100 for my education.
</a>
</p>

<div id="endofcontent" class="noprint"><hr/></div>
<div class="visualClear"></div>
</div>
</div>
</div>
<!--MOBILEIGNORE-->
<div id="logo" class="noprint">
<a style="z-index:2;" href="/web/20080913124421/http://www.upokecenter.com/" title="The Ultimate Pokemon Center">
<img src="/web/20080913124421im_/http://www.upokecenter.com/images/upclogo3.png" alt="The Ultimate Pokemon Center"/>
</a>
</div>
<div id="column-one">
<h2 id="nav" class="portlet-navtitle">Navigation</h2>
<div id="p-site" class="portlet">
<h3 class="portlet-title"><a href="/web/20080913124421/http://www.upokecenter.com/">Site</a></h3>
<ul class="portlet-list">
<li><a href="/web/20080913124421/http://www.upokecenter.com/sitemap.html"><strong>Site Map</strong></a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/articles.php">Articles</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/mail.php">Contact Form</a></li>
<li id="bookmarklinkitem">
<a href="/web/20080913124421/http://www.upokecenter.com/bookmark.php?title=Pokemon Mystery Dungeon - Mail Converter" id="bookmarklink">Bookmark this page</a>
</li>
<li><a href="#footer" onclick="document.getElementById(&#039;donform&#039;).submit()">
<strong>Donate</strong></a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/pages.html">List of pages</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/m/?a=ref">Mobile version</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/dex/">Pokedex (Pokemon Data)</a></li>
<li><a href="http://web.archive.org/web/20080913124421/http://www.1and1.com/?k_id=14897677">Hosted by 1&amp;1</a></li>
<li><a href="http://web.archive.org/web/20080913124421/http://trafficg.com/my-promotions.php?member=poccil">Promotions</a></li>
<li><a href="http://web.archive.org/web/20080913124421/http://trafficg.com/index.php?member=poccil">TrafficG</a></li>
</ul>
</div>
<div id="p-search" class="portlet">
<h3 class="portlet-title">Search</h3>
<ul class="portlet-list">
<li><form action="/web/20080913124421/http://www.upokecenter.com/search.php" id="searchform">
<div><input id="searchInput" name="q" type="text" accesskey="f" value=""/>
<input type="submit" name="fulltext" class="searchButton" value="Search"/></div>
</form></li>
</ul>
</div>
<div id="p-discussion" class="portlet">
<h3 class="portlet-title">Discussion</h3>
<ul class="portlet-list">
<li><a href="/web/20080913124421/http://www.upokecenter.com/forum/"><strong>UPC Forums</strong></a></li>
</ul>
</div>
<div id="p-videogames" class="portlet">
<h3 class="portlet-title"><a href="/web/20080913124421/http://www.upokecenter.com/games/">Pokemon Games</a></h3>
<ul class="portlet-list">
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/dungeon2/">Mystery Dungeon 2</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/data/">Data Section</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/dp/">Diamond/Pearl</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/dungeon/">Mystery Dungeon</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/emerald/">Emerald</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/rs/">Ruby/Sapphire</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/tcg/">Trading Card Game</a></li>
</ul>
</div>
<div id="p-indepth" class="portlet">
<h3 class="portlet-title">In-Depth Guides</h3>
<ul class="portlet-list">
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/dp/guides/">Diamond/Pearl</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/dungeon/guides/">Mystery Dungeon</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/emerald/guides/battlefrontier.html">Battle Frontier</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/rs/guides/">Ruby/Sapphire</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/games/gs/guides/">Gold/Silver</a></li>
</ul>
</div>
<div id="p-articles" class="portlet">
<h3 class="portlet-title">Tools</h3>
<ul class="portlet-list">
<li><a href="/web/20080913124421/http://www.upokecenter.com/misc/teamgen.php">Trainer Team Generator</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/misc/vsgen.php">Fight Card Generator</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/misc/sketch.php">Contest Sketcher</a></li>
</ul>
</div>
<div id="p-layouts" class="portlet">
<h3 class="portlet-title">Layouts</h3>
<ul class="portlet-list">
<li><a href="/web/20080913124421/http://www.upokecenter.com/" onclick="setActiveStyleSheet(&#039;graycss&#039;);return false;">Default</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/" onclick="setActiveStyleSheet(&#039;redcss&#039;);return false;">Red Style</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/" onclick="setActiveStyleSheet(&#039;bluecss&#039;);return false;">Blue Style</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/" onclick="setActiveStyleSheet(&#039;largecss&#039;);return false;">Page Style</a></li>
<li><a href="/web/20080913124421/http://www.upokecenter.com/" onclick="setActiveStyleSheet(&#039;&#039;);return false;">No Layout</a></li>
</ul>
</div>

</div>

<!--/MOBILEIGNORE-->
<div class="visualClear"></div>
<div id="footer">
(C) 2000-2007 <a href="/web/20080913124421/http://www.upokecenter.com/mail.php">Peter O.</a>
<a href="http://web.archive.org/web/20080913124421/http://www.1and1.com/?k_id=14897677">Hosted by 1&amp;1</a>
<br/>
<!--MOBILEIGNORE-->
<div class="noprint">
<a href="http://web.archive.org/web/20080913124421/http://ppntop50.com/" style="float:left;">
<img src="http://web.archive.org/web/20080913124421im_/http://ppntop50.com/button.php?u=poccil" alt="PPN Top 50"/>
</a>
<form style="float:left;" action="http://web.archive.org/web/20080913124421/https://www.paypal.com/cgi-bin/webscr" method="post" id="donform">
<div style="float:left;"><input type="hidden" name="cmd" value="_xclick"/>
<input type="hidden" name="business" value="poccil@yahoo.com"/>
<input type="hidden" name="item_name" value="Peter O."/>
<input type="hidden" name="no_shipping" value="1"/>
<input type="hidden" name="return" value=""/>
<input type="hidden" name="no_note" value="1"/>
<input type="hidden" name="currency_code" value="USD"/>
<input type="hidden" name="tax" value="0"/>
<input type="hidden" name="lc" value="US"/>
<input type="hidden" name="bn" value="PP-DonationsBF"/>
<input type="image" src="/web/20080913124421im_/http://www.upokecenter.com/images/donation.png" name="submit" alt="Make payments with PayPal - it&#039;s fast, free and secure!"/>
<img alt="" src="http://web.archive.org/web/20080913124421im_/https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1"/>
</div></form>
<a href="http://web.archive.org/web/20080913124421/http://validator.w3.org/check?uri=referer">Valid XHTML 1.0 Strict</a> 
</div>
<!--/MOBILEIGNORE-->

</div>
</div>
</body></html>
